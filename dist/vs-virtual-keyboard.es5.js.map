{"version":3,"file":"vs-virtual-keyboard.es5.js","sources":["../src/actions/keyboard-toggle.ts","../src/actions/keyboard-mode-shift.ts","../src/actions/keyboard-typed.ts","../src/actions/keyboard-variation-toggle.ts","../src/actions/index.ts","../node_modules/snabbdom/src/htmldomapi.ts","../node_modules/snabbdom/src/vnode.ts","../node_modules/snabbdom/src/is.ts","../node_modules/snabbdom/src/init.ts","../node_modules/snabbdom/src/h.ts","../node_modules/snabbdom/src/modules/class.ts","../node_modules/snabbdom/src/modules/eventlisteners.ts","../node_modules/snabbdom/src/modules/hero.ts","../node_modules/snabbdom/src/modules/props.ts","../node_modules/snabbdom/src/modules/style.ts","../node_modules/snabbdom/src/jsx.ts","../node_modules/snabbdom/src/index.ts","../src/utils/create-element.ts","../src/utils/is-touch.ts","../src/components/keyboard.ts","../src/vs-virtual-keyboard.ts"],"sourcesContent":["import KeyboardState from '../types/kb-state'\n\nexport default (state: KeyboardState, params: any) => {\n  if (!params.input) {\n    return { ...state, input: null }\n  }\n  if ((state.config?.availableInTypes || ['text']).indexOf(params.input.type || '') === -1) {\n    return { ...state, input: null }\n  }\n  return { ...state, input: params.input }\n}\n","import KeyboardKey from '../types/kb-key'\nimport KeyboardState from '../types/kb-state'\n\nfunction getLayoutTable(layoutJson: Array<Array<KeyboardKey>>) {\n  return layoutJson.map(l =>\n    l.map(symbolKey => {\n      if (typeof symbolKey === 'string') {\n        return { symbol: symbolKey }\n      }\n      if (symbolKey.variations) {\n        return {\n          ...(symbolKey as any),\n          variations: symbolKey.variations.map(subSymbol => {\n            if (typeof subSymbol === 'string') {\n              return { symbol: subSymbol }\n            }\n            return { ...(subSymbol as any) }\n          })\n        }\n      }\n      return { ...(symbolKey as any) }\n    })\n  )\n}\n\nexport default (state: KeyboardState, params: any) => {\n  state.layoutName = params.layoutName\n\n  try {\n    state.layout = getLayoutTable(\n      params.layout || state.config?.layouts?.layouts.find(l => l.name === state.layoutName)?.rows\n    )\n  } catch (err) {\n    console.error(err)\n  }\n\n  return { ...state }\n}\n","import KeyboardState from '../types/kb-state'\n\nexport default (state: KeyboardState, params: any) => {\n  return { ...state, variationShow: null }\n}\n","import KeyboardKey from '../types/kb-key'\nimport KeyboardState from '../types/kb-state'\n\nexport default (state: KeyboardState, params: any) => {\n  const key: KeyboardKey = params.key\n\n  return {\n    ...state,\n    variationShow: key\n  }\n}\n","import kdToggle from './keyboard-toggle'\nimport kdModeShift from './keyboard-mode-shift'\nimport kbTyped from './keyboard-typed'\nimport variationToggle from './keyboard-variation-toggle'\n\nexport const ACTION_KB_TOGGLE = 0\nexport const ACTION_MODE_TOGGLE = 2\nexport const ACTION_KB_TYPED = 3\nexport const ACTION_VARIATION_TOGGLE = 4\n\nconst actions: Map<Number, Function> = new Map<Number, Function>()\n\nactions.set(ACTION_KB_TOGGLE, kdToggle)\nactions.set(ACTION_MODE_TOGGLE, kdModeShift)\nactions.set(ACTION_KB_TYPED, kbTyped)\nactions.set(ACTION_VARIATION_TOGGLE, variationToggle)\n\nexport default actions\n","export interface DOMAPI {\n  createElement: (\n    tagName: any,\n    options?: ElementCreationOptions\n  ) => HTMLElement;\n  createElementNS: (\n    namespaceURI: string,\n    qualifiedName: string,\n    options?: ElementCreationOptions\n  ) => Element;\n  createTextNode: (text: string) => Text;\n  createComment: (text: string) => Comment;\n  insertBefore: (\n    parentNode: Node,\n    newNode: Node,\n    referenceNode: Node | null\n  ) => void;\n  removeChild: (node: Node, child: Node) => void;\n  appendChild: (node: Node, child: Node) => void;\n  parentNode: (node: Node) => Node | null;\n  nextSibling: (node: Node) => Node | null;\n  tagName: (elm: Element) => string;\n  setTextContent: (node: Node, text: string | null) => void;\n  getTextContent: (node: Node) => string | null;\n  isElement: (node: Node) => node is Element;\n  isText: (node: Node) => node is Text;\n  isComment: (node: Node) => node is Comment;\n}\n\nfunction createElement(\n  tagName: any,\n  options?: ElementCreationOptions\n): HTMLElement {\n  return document.createElement(tagName, options);\n}\n\nfunction createElementNS(\n  namespaceURI: string,\n  qualifiedName: string,\n  options?: ElementCreationOptions\n): Element {\n  return document.createElementNS(namespaceURI, qualifiedName, options);\n}\n\nfunction createTextNode(text: string): Text {\n  return document.createTextNode(text);\n}\n\nfunction createComment(text: string): Comment {\n  return document.createComment(text);\n}\n\nfunction insertBefore(\n  parentNode: Node,\n  newNode: Node,\n  referenceNode: Node | null\n): void {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild(node: Node, child: Node): void {\n  node.removeChild(child);\n}\n\nfunction appendChild(node: Node, child: Node): void {\n  node.appendChild(child);\n}\n\nfunction parentNode(node: Node): Node | null {\n  return node.parentNode;\n}\n\nfunction nextSibling(node: Node): Node | null {\n  return node.nextSibling;\n}\n\nfunction tagName(elm: Element): string {\n  return elm.tagName;\n}\n\nfunction setTextContent(node: Node, text: string | null): void {\n  node.textContent = text;\n}\n\nfunction getTextContent(node: Node): string | null {\n  return node.textContent;\n}\n\nfunction isElement(node: Node): node is Element {\n  return node.nodeType === 1;\n}\n\nfunction isText(node: Node): node is Text {\n  return node.nodeType === 3;\n}\n\nfunction isComment(node: Node): node is Comment {\n  return node.nodeType === 8;\n}\n\nexport const htmlDomApi: DOMAPI = {\n  createElement,\n  createElementNS,\n  createTextNode,\n  createComment,\n  insertBefore,\n  removeChild,\n  appendChild,\n  parentNode,\n  nextSibling,\n  tagName,\n  setTextContent,\n  getTextContent,\n  isElement,\n  isText,\n  isComment,\n};\n","import { Hooks } from \"./hooks\";\nimport { AttachData } from \"./helpers/attachto\";\nimport { VNodeStyle } from \"./modules/style\";\nimport { On } from \"./modules/eventlisteners\";\nimport { Attrs } from \"./modules/attributes\";\nimport { Classes } from \"./modules/class\";\nimport { Props } from \"./modules/props\";\nimport { Dataset } from \"./modules/dataset\";\n\nexport type Key = string | number | symbol;\n\nexport interface VNode {\n  sel: string | undefined;\n  data: VNodeData | undefined;\n  children: Array<VNode | string> | undefined;\n  elm: Node | undefined;\n  text: string | undefined;\n  key: Key | undefined;\n}\n\nexport interface VNodeData {\n  props?: Props;\n  attrs?: Attrs;\n  class?: Classes;\n  style?: VNodeStyle;\n  dataset?: Dataset;\n  on?: On;\n  attachData?: AttachData;\n  hook?: Hooks;\n  key?: Key;\n  ns?: string; // for SVGs\n  fn?: () => VNode; // for thunks\n  args?: any[]; // for thunks\n  is?: string; // for custom elements v1\n  [key: string]: any; // for any other 3rd party module\n}\n\nexport function vnode(\n  sel: string | undefined,\n  data: any | undefined,\n  children: Array<VNode | string> | undefined,\n  text: string | undefined,\n  elm: Element | Text | undefined\n): VNode {\n  const key = data === undefined ? undefined : data.key;\n  return { sel, data, children, text, elm, key };\n}\n","export const array = Array.isArray;\nexport function primitive(s: any): s is string | number {\n  return typeof s === \"string\" || typeof s === \"number\";\n}\n","import { Module } from \"./modules/module\";\nimport { vnode, VNode } from \"./vnode\";\nimport * as is from \"./is\";\nimport { htmlDomApi, DOMAPI } from \"./htmldomapi\";\n\ntype NonUndefined<T> = T extends undefined ? never : T;\n\nfunction isUndef(s: any): boolean {\n  return s === undefined;\n}\nfunction isDef<A>(s: A): s is NonUndefined<A> {\n  return s !== undefined;\n}\n\ntype VNodeQueue = VNode[];\n\nconst emptyNode = vnode(\"\", {}, [], undefined, undefined);\n\nfunction sameVnode(vnode1: VNode, vnode2: VNode): boolean {\n  const isSameKey = vnode1.key === vnode2.key;\n  const isSameIs = vnode1.data?.is === vnode2.data?.is;\n  const isSameSel = vnode1.sel === vnode2.sel;\n\n  return isSameSel && isSameKey && isSameIs;\n}\n\nfunction isVnode(vnode: any): vnode is VNode {\n  return vnode.sel !== undefined;\n}\n\ntype KeyToIndexMap = { [key: string]: number };\n\ntype ArraysOf<T> = {\n  [K in keyof T]: Array<T[K]>;\n};\n\ntype ModuleHooks = ArraysOf<Required<Module>>;\n\nfunction createKeyToOldIdx(\n  children: VNode[],\n  beginIdx: number,\n  endIdx: number\n): KeyToIndexMap {\n  const map: KeyToIndexMap = {};\n  for (let i = beginIdx; i <= endIdx; ++i) {\n    const key = children[i]?.key;\n    if (key !== undefined) {\n      map[key as string] = i;\n    }\n  }\n  return map;\n}\n\nconst hooks: Array<keyof Module> = [\n  \"create\",\n  \"update\",\n  \"remove\",\n  \"destroy\",\n  \"pre\",\n  \"post\",\n];\n\nexport function init(modules: Array<Partial<Module>>, domApi?: DOMAPI) {\n  let i: number;\n  let j: number;\n  const cbs: ModuleHooks = {\n    create: [],\n    update: [],\n    remove: [],\n    destroy: [],\n    pre: [],\n    post: [],\n  };\n\n  const api: DOMAPI = domApi !== undefined ? domApi : htmlDomApi;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      const hook = modules[j][hooks[i]];\n      if (hook !== undefined) {\n        (cbs[hooks[i]] as any[]).push(hook);\n      }\n    }\n  }\n\n  function emptyNodeAt(elm: Element) {\n    const id = elm.id ? \"#\" + elm.id : \"\";\n    const c = elm.className ? \".\" + elm.className.split(\" \").join(\".\") : \"\";\n    return vnode(\n      api.tagName(elm).toLowerCase() + id + c,\n      {},\n      [],\n      undefined,\n      elm\n    );\n  }\n\n  function createRmCb(childElm: Node, listeners: number) {\n    return function rmCb() {\n      if (--listeners === 0) {\n        const parent = api.parentNode(childElm) as Node;\n        api.removeChild(parent, childElm);\n      }\n    };\n  }\n\n  function createElm(vnode: VNode, insertedVnodeQueue: VNodeQueue): Node {\n    let i: any;\n    let data = vnode.data;\n    if (data !== undefined) {\n      const init = data.hook?.init;\n      if (isDef(init)) {\n        init(vnode);\n        data = vnode.data;\n      }\n    }\n    const children = vnode.children;\n    const sel = vnode.sel;\n    if (sel === \"!\") {\n      if (isUndef(vnode.text)) {\n        vnode.text = \"\";\n      }\n      vnode.elm = api.createComment(vnode.text!);\n    } else if (sel !== undefined) {\n      // Parse selector\n      const hashIdx = sel.indexOf(\"#\");\n      const dotIdx = sel.indexOf(\".\", hashIdx);\n      const hash = hashIdx > 0 ? hashIdx : sel.length;\n      const dot = dotIdx > 0 ? dotIdx : sel.length;\n      const tag =\n        hashIdx !== -1 || dotIdx !== -1\n          ? sel.slice(0, Math.min(hash, dot))\n          : sel;\n      const elm = (vnode.elm =\n        isDef(data) && isDef((i = data.ns))\n          ? api.createElementNS(i, tag, data)\n          : api.createElement(tag, data));\n      if (hash < dot) elm.setAttribute(\"id\", sel.slice(hash + 1, dot));\n      if (dotIdx > 0)\n        elm.setAttribute(\"class\", sel.slice(dot + 1).replace(/\\./g, \" \"));\n      for (i = 0; i < cbs.create.length; ++i) cbs.create[i](emptyNode, vnode);\n      if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n          const ch = children[i];\n          if (ch != null) {\n            api.appendChild(elm, createElm(ch as VNode, insertedVnodeQueue));\n          }\n        }\n      } else if (is.primitive(vnode.text)) {\n        api.appendChild(elm, api.createTextNode(vnode.text));\n      }\n      const hook = vnode.data!.hook;\n      if (isDef(hook)) {\n        hook.create?.(emptyNode, vnode);\n        if (hook.insert) {\n          insertedVnodeQueue.push(vnode);\n        }\n      }\n    } else {\n      vnode.elm = api.createTextNode(vnode.text!);\n    }\n    return vnode.elm;\n  }\n\n  function addVnodes(\n    parentElm: Node,\n    before: Node | null,\n    vnodes: VNode[],\n    startIdx: number,\n    endIdx: number,\n    insertedVnodeQueue: VNodeQueue\n  ) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      const ch = vnodes[startIdx];\n      if (ch != null) {\n        api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n      }\n    }\n  }\n\n  function invokeDestroyHook(vnode: VNode) {\n    const data = vnode.data;\n    if (data !== undefined) {\n      data?.hook?.destroy?.(vnode);\n      for (let i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n      if (vnode.children !== undefined) {\n        for (let j = 0; j < vnode.children.length; ++j) {\n          const child = vnode.children[j];\n          if (child != null && typeof child !== \"string\") {\n            invokeDestroyHook(child);\n          }\n        }\n      }\n    }\n  }\n\n  function removeVnodes(\n    parentElm: Node,\n    vnodes: VNode[],\n    startIdx: number,\n    endIdx: number\n  ): void {\n    for (; startIdx <= endIdx; ++startIdx) {\n      let listeners: number;\n      let rm: () => void;\n      const ch = vnodes[startIdx];\n      if (ch != null) {\n        if (isDef(ch.sel)) {\n          invokeDestroyHook(ch);\n          listeners = cbs.remove.length + 1;\n          rm = createRmCb(ch.elm!, listeners);\n          for (let i = 0; i < cbs.remove.length; ++i) cbs.remove[i](ch, rm);\n          const removeHook = ch?.data?.hook?.remove;\n          if (isDef(removeHook)) {\n            removeHook(ch, rm);\n          } else {\n            rm();\n          }\n        } else {\n          // Text node\n          api.removeChild(parentElm, ch.elm!);\n        }\n      }\n    }\n  }\n\n  function updateChildren(\n    parentElm: Node,\n    oldCh: VNode[],\n    newCh: VNode[],\n    insertedVnodeQueue: VNodeQueue\n  ) {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx: KeyToIndexMap | undefined;\n    let idxInOld: number;\n    let elmToMove: VNode;\n    let before: any;\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (oldStartVnode == null) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n      } else if (oldEndVnode == null) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (newStartVnode == null) {\n        newStartVnode = newCh[++newStartIdx];\n      } else if (newEndVnode == null) {\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) {\n        // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n        api.insertBefore(\n          parentElm,\n          oldStartVnode.elm!,\n          api.nextSibling(oldEndVnode.elm!)\n        );\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) {\n        // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldEndVnode.elm!, oldStartVnode.elm!);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (oldKeyToIdx === undefined) {\n          oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n        }\n        idxInOld = oldKeyToIdx[newStartVnode.key as string];\n        if (isUndef(idxInOld)) {\n          // New element\n          api.insertBefore(\n            parentElm,\n            createElm(newStartVnode, insertedVnodeQueue),\n            oldStartVnode.elm!\n          );\n        } else {\n          elmToMove = oldCh[idxInOld];\n          if (elmToMove.sel !== newStartVnode.sel) {\n            api.insertBefore(\n              parentElm,\n              createElm(newStartVnode, insertedVnodeQueue),\n              oldStartVnode.elm!\n            );\n          } else {\n            patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n            oldCh[idxInOld] = undefined as any;\n            api.insertBefore(parentElm, elmToMove.elm!, oldStartVnode.elm!);\n          }\n        }\n        newStartVnode = newCh[++newStartIdx];\n      }\n    }\n    if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n      if (oldStartIdx > oldEndIdx) {\n        before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n        addVnodes(\n          parentElm,\n          before,\n          newCh,\n          newStartIdx,\n          newEndIdx,\n          insertedVnodeQueue\n        );\n      } else {\n        removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n      }\n    }\n  }\n\n  function patchVnode(\n    oldVnode: VNode,\n    vnode: VNode,\n    insertedVnodeQueue: VNodeQueue\n  ) {\n    const hook = vnode.data?.hook;\n    hook?.prepatch?.(oldVnode, vnode);\n    const elm = (vnode.elm = oldVnode.elm)!;\n    const oldCh = oldVnode.children as VNode[];\n    const ch = vnode.children as VNode[];\n    if (oldVnode === vnode) return;\n    if (vnode.data !== undefined) {\n      for (let i = 0; i < cbs.update.length; ++i)\n        cbs.update[i](oldVnode, vnode);\n      vnode.data.hook?.update?.(oldVnode, vnode);\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n      } else if (isDef(ch)) {\n        if (isDef(oldVnode.text)) api.setTextContent(elm, \"\");\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n      } else if (isDef(oldVnode.text)) {\n        api.setTextContent(elm, \"\");\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n      }\n      api.setTextContent(elm, vnode.text!);\n    }\n    hook?.postpatch?.(oldVnode, vnode);\n  }\n\n  return function patch(oldVnode: VNode | Element, vnode: VNode): VNode {\n    let i: number, elm: Node, parent: Node;\n    const insertedVnodeQueue: VNodeQueue = [];\n    for (i = 0; i < cbs.pre.length; ++i) cbs.pre[i]();\n\n    if (!isVnode(oldVnode)) {\n      oldVnode = emptyNodeAt(oldVnode);\n    }\n\n    if (sameVnode(oldVnode, vnode)) {\n      patchVnode(oldVnode, vnode, insertedVnodeQueue);\n    } else {\n      elm = oldVnode.elm!;\n      parent = api.parentNode(elm) as Node;\n\n      createElm(vnode, insertedVnodeQueue);\n\n      if (parent !== null) {\n        api.insertBefore(parent, vnode.elm!, api.nextSibling(elm));\n        removeVnodes(parent, [oldVnode], 0, 0);\n      }\n    }\n\n    for (i = 0; i < insertedVnodeQueue.length; ++i) {\n      insertedVnodeQueue[i].data!.hook!.insert!(insertedVnodeQueue[i]);\n    }\n    for (i = 0; i < cbs.post.length; ++i) cbs.post[i]();\n    return vnode;\n  };\n}\n","import { vnode, VNode, VNodeData } from \"./vnode\";\nimport * as is from \"./is\";\n\nexport type VNodes = VNode[];\nexport type VNodeChildElement = VNode | string | number | undefined | null;\nexport type ArrayOrElement<T> = T | T[];\nexport type VNodeChildren = ArrayOrElement<VNodeChildElement>;\n\nfunction addNS(\n  data: any,\n  children: VNodes | undefined,\n  sel: string | undefined\n): void {\n  data.ns = \"http://www.w3.org/2000/svg\";\n  if (sel !== \"foreignObject\" && children !== undefined) {\n    for (let i = 0; i < children.length; ++i) {\n      const childData = children[i].data;\n      if (childData !== undefined) {\n        addNS(childData, children[i].children as VNodes, children[i].sel);\n      }\n    }\n  }\n}\n\nexport function h(sel: string): VNode;\nexport function h(sel: string, data: VNodeData | null): VNode;\nexport function h(sel: string, children: VNodeChildren): VNode;\nexport function h(\n  sel: string,\n  data: VNodeData | null,\n  children: VNodeChildren\n): VNode;\nexport function h(sel: any, b?: any, c?: any): VNode {\n  let data: VNodeData = {};\n  let children: any;\n  let text: any;\n  let i: number;\n  if (c !== undefined) {\n    if (b !== null) {\n      data = b;\n    }\n    if (is.array(c)) {\n      children = c;\n    } else if (is.primitive(c)) {\n      text = c;\n    } else if (c && c.sel) {\n      children = [c];\n    }\n  } else if (b !== undefined && b !== null) {\n    if (is.array(b)) {\n      children = b;\n    } else if (is.primitive(b)) {\n      text = b;\n    } else if (b && b.sel) {\n      children = [b];\n    } else {\n      data = b;\n    }\n  }\n  if (children !== undefined) {\n    for (i = 0; i < children.length; ++i) {\n      if (is.primitive(children[i]))\n        children[i] = vnode(\n          undefined,\n          undefined,\n          undefined,\n          children[i],\n          undefined\n        );\n    }\n  }\n  if (\n    sel[0] === \"s\" &&\n    sel[1] === \"v\" &&\n    sel[2] === \"g\" &&\n    (sel.length === 3 || sel[3] === \".\" || sel[3] === \"#\")\n  ) {\n    addNS(data, children, sel);\n  }\n  return vnode(sel, data, children, text, undefined);\n}\n","import { VNode, VNodeData } from \"../vnode\";\nimport { Module } from \"./module\";\n\nexport type Classes = Record<string, boolean>;\n\nfunction updateClass(oldVnode: VNode, vnode: VNode): void {\n  let cur: any;\n  let name: string;\n  const elm: Element = vnode.elm as Element;\n  let oldClass = (oldVnode.data as VNodeData).class;\n  let klass = (vnode.data as VNodeData).class;\n\n  if (!oldClass && !klass) return;\n  if (oldClass === klass) return;\n  oldClass = oldClass || {};\n  klass = klass || {};\n\n  for (name in oldClass) {\n    if (oldClass[name] && !Object.prototype.hasOwnProperty.call(klass, name)) {\n      // was `true` and now not provided\n      elm.classList.remove(name);\n    }\n  }\n  for (name in klass) {\n    cur = klass[name];\n    if (cur !== oldClass[name]) {\n      (elm.classList as any)[cur ? \"add\" : \"remove\"](name);\n    }\n  }\n}\n\nexport const classModule: Module = { create: updateClass, update: updateClass };\n","import { VNode, VNodeData } from \"../vnode\";\nimport { Module } from \"./module\";\n\ntype Listener<T> = (this: VNode, ev: T, vnode: VNode) => void;\n\nexport type On = {\n  [N in keyof HTMLElementEventMap]?:\n    | Listener<HTMLElementEventMap[N]>\n    | Array<Listener<HTMLElementEventMap[N]>>;\n} & {\n  [event: string]: Listener<any> | Array<Listener<any>>;\n};\n\ntype SomeListener<N extends keyof HTMLElementEventMap> =\n  | Listener<HTMLElementEventMap[N]>\n  | Listener<any>;\n\nfunction invokeHandler<N extends keyof HTMLElementEventMap>(\n  handler: SomeListener<N> | Array<SomeListener<N>>,\n  vnode: VNode,\n  event?: Event\n): void {\n  if (typeof handler === \"function\") {\n    // call function handler\n    handler.call(vnode, event, vnode);\n  } else if (typeof handler === \"object\") {\n    // call multiple handlers\n    for (let i = 0; i < handler.length; i++) {\n      invokeHandler(handler[i], vnode, event);\n    }\n  }\n}\n\nfunction handleEvent(event: Event, vnode: VNode) {\n  const name = event.type;\n  const on = (vnode.data as VNodeData).on;\n\n  // call event handler(s) if exists\n  if (on && on[name]) {\n    invokeHandler(on[name], vnode, event);\n  }\n}\n\nfunction createListener() {\n  return function handler(event: Event) {\n    handleEvent(event, (handler as any).vnode);\n  };\n}\n\nfunction updateEventListeners(oldVnode: VNode, vnode?: VNode): void {\n  const oldOn = (oldVnode.data as VNodeData).on;\n  const oldListener = (oldVnode as any).listener;\n  const oldElm: Element = oldVnode.elm as Element;\n  const on = vnode && (vnode.data as VNodeData).on;\n  const elm: Element = (vnode && vnode.elm) as Element;\n  let name: string;\n\n  // optimization for reused immutable handlers\n  if (oldOn === on) {\n    return;\n  }\n\n  // remove existing listeners which no longer used\n  if (oldOn && oldListener) {\n    // if element changed or deleted we remove all existing listeners unconditionally\n    if (!on) {\n      for (name in oldOn) {\n        // remove listener if element was changed or existing listeners removed\n        oldElm.removeEventListener(name, oldListener, false);\n      }\n    } else {\n      for (name in oldOn) {\n        // remove listener if existing listener removed\n        if (!on[name]) {\n          oldElm.removeEventListener(name, oldListener, false);\n        }\n      }\n    }\n  }\n\n  // add new listeners which has not already attached\n  if (on) {\n    // reuse existing listener or create new\n    const listener = ((vnode as any).listener =\n      (oldVnode as any).listener || createListener());\n    // update vnode for listener\n    listener.vnode = vnode;\n\n    // if element changed or added we add all needed listeners unconditionally\n    if (!oldOn) {\n      for (name in on) {\n        // add listener if element was changed or new listeners added\n        elm.addEventListener(name, listener, false);\n      }\n    } else {\n      for (name in on) {\n        // add listener if new listener added\n        if (!oldOn[name]) {\n          elm.addEventListener(name, listener, false);\n        }\n      }\n    }\n  }\n}\n\nexport const eventListenersModule: Module = {\n  create: updateEventListeners,\n  update: updateEventListeners,\n  destroy: updateEventListeners,\n};\n",{"errno":-2,"code":"ENOENT","syscall":"open","path":"/home/misael/js/vs-virtual-keyboard/node_modules/snabbdom/src/modules/hero.ts"},"import { VNode, VNodeData } from \"../vnode\";\nimport { Module } from \"./module\";\n\nexport type Props = Record<string, any>;\n\nfunction updateProps(oldVnode: VNode, vnode: VNode): void {\n  let key: string;\n  let cur: any;\n  let old: any;\n  const elm = vnode.elm;\n  let oldProps = (oldVnode.data as VNodeData).props;\n  let props = (vnode.data as VNodeData).props;\n\n  if (!oldProps && !props) return;\n  if (oldProps === props) return;\n  oldProps = oldProps || {};\n  props = props || {};\n\n  for (key in props) {\n    cur = props[key];\n    old = oldProps[key];\n    if (old !== cur && (key !== \"value\" || (elm as any)[key] !== cur)) {\n      (elm as any)[key] = cur;\n    }\n  }\n}\n\nexport const propsModule: Module = { create: updateProps, update: updateProps };\n","import { VNode, VNodeData } from \"../vnode\";\nimport { Module } from \"./module\";\n\nexport type VNodeStyle = Record<string, string> & {\n  delayed?: Record<string, string>;\n  remove?: Record<string, string>;\n};\n\n// Bindig `requestAnimationFrame` like this fixes a bug in IE/Edge. See #360 and #409.\nconst raf =\n  (typeof window !== \"undefined\" &&\n    window.requestAnimationFrame.bind(window)) ||\n  setTimeout;\nconst nextFrame = function (fn: any) {\n  raf(function () {\n    raf(fn);\n  });\n};\nlet reflowForced = false;\n\nfunction setNextFrame(obj: any, prop: string, val: any): void {\n  nextFrame(function () {\n    obj[prop] = val;\n  });\n}\n\nfunction updateStyle(oldVnode: VNode, vnode: VNode): void {\n  let cur: any;\n  let name: string;\n  const elm = vnode.elm;\n  let oldStyle = (oldVnode.data as VNodeData).style;\n  let style = (vnode.data as VNodeData).style;\n\n  if (!oldStyle && !style) return;\n  if (oldStyle === style) return;\n  oldStyle = oldStyle || {};\n  style = style || {};\n  const oldHasDel = \"delayed\" in oldStyle;\n\n  for (name in oldStyle) {\n    if (!style[name]) {\n      if (name[0] === \"-\" && name[1] === \"-\") {\n        (elm as any).style.removeProperty(name);\n      } else {\n        (elm as any).style[name] = \"\";\n      }\n    }\n  }\n  for (name in style) {\n    cur = style[name];\n    if (name === \"delayed\" && style.delayed) {\n      for (const name2 in style.delayed) {\n        cur = style.delayed[name2];\n        if (!oldHasDel || cur !== (oldStyle.delayed as any)[name2]) {\n          setNextFrame((elm as any).style, name2, cur);\n        }\n      }\n    } else if (name !== \"remove\" && cur !== oldStyle[name]) {\n      if (name[0] === \"-\" && name[1] === \"-\") {\n        (elm as any).style.setProperty(name, cur);\n      } else {\n        (elm as any).style[name] = cur;\n      }\n    }\n  }\n}\n\nfunction applyDestroyStyle(vnode: VNode): void {\n  let style: any;\n  let name: string;\n  const elm = vnode.elm;\n  const s = (vnode.data as VNodeData).style;\n  if (!s || !(style = s.destroy)) return;\n  for (name in style) {\n    (elm as any).style[name] = style[name];\n  }\n}\n\nfunction applyRemoveStyle(vnode: VNode, rm: () => void): void {\n  const s = (vnode.data as VNodeData).style;\n  if (!s || !s.remove) {\n    rm();\n    return;\n  }\n  if (!reflowForced) {\n    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n    (vnode.elm as any).offsetLeft;\n    reflowForced = true;\n  }\n  let name: string;\n  const elm = vnode.elm;\n  let i = 0;\n  const style = s.remove;\n  let amount = 0;\n  const applied: string[] = [];\n  for (name in style) {\n    applied.push(name);\n    (elm as any).style[name] = style[name];\n  }\n  const compStyle = getComputedStyle(elm as Element);\n  const props = (compStyle as any)[\"transition-property\"].split(\", \");\n  for (; i < props.length; ++i) {\n    if (applied.indexOf(props[i]) !== -1) amount++;\n  }\n  (elm as Element).addEventListener(\n    \"transitionend\",\n    function (ev: TransitionEvent) {\n      if (ev.target === elm) --amount;\n      if (amount === 0) rm();\n    }\n  );\n}\n\nfunction forceReflow() {\n  reflowForced = false;\n}\n\nexport const styleModule: Module = {\n  pre: forceReflow,\n  create: updateStyle,\n  update: updateStyle,\n  destroy: applyDestroyStyle,\n  remove: applyRemoveStyle,\n};\n","/* eslint-disable @typescript-eslint/no-namespace, import/export */\nimport { vnode, VNode, VNodeData } from \"./vnode\";\nimport { h, ArrayOrElement } from \"./h\";\n\n// See https://www.typescriptlang.org/docs/handbook/jsx.html#type-checking\nnamespace JSXInternal {\n  export type Element = VNode;\n  export interface IntrinsicElements {\n    [elemName: string]: VNodeData;\n  }\n}\n\n// for conditional rendering we support boolean child element e.g cond && <tag />\nexport type JsxVNodeChild =\n  | VNode\n  | string\n  | number\n  | boolean\n  | undefined\n  | null;\nexport type JsxVNodeChildren = ArrayOrElement<JsxVNodeChild>;\n\nexport type FunctionComponent = (\n  props: { [prop: string]: any } | null,\n  children?: VNode[]\n) => VNode;\n\nfunction flattenAndFilter(\n  children: JsxVNodeChildren[],\n  flattened: VNode[]\n): VNode[] {\n  for (const child of children) {\n    // filter out falsey children, except 0 since zero can be a valid value e.g inside a chart\n    if (\n      child !== undefined &&\n      child !== null &&\n      child !== false &&\n      child !== \"\"\n    ) {\n      if (Array.isArray(child)) {\n        flattenAndFilter(child, flattened);\n      } else if (\n        typeof child === \"string\" ||\n        typeof child === \"number\" ||\n        typeof child === \"boolean\"\n      ) {\n        flattened.push(\n          vnode(undefined, undefined, undefined, String(child), undefined)\n        );\n      } else {\n        flattened.push(child);\n      }\n    }\n  }\n  return flattened;\n}\n\n/**\n * jsx/tsx compatible factory function\n * see: https://www.typescriptlang.org/docs/handbook/jsx.html#factory-functions\n */\nexport function jsx(\n  tag: string | FunctionComponent,\n  data: VNodeData | null,\n  ...children: JsxVNodeChildren[]\n): VNode {\n  const flatChildren = flattenAndFilter(children, []);\n  if (typeof tag === \"function\") {\n    // tag is a function component\n    return tag(data, flatChildren);\n  } else {\n    if (\n      flatChildren.length === 1 &&\n      !flatChildren[0].sel &&\n      flatChildren[0].text\n    ) {\n      // only child is a simple text node, pass as text for a simpler vtree\n      return h(tag, data, flatChildren[0].text);\n    } else {\n      return h(tag, data, flatChildren);\n    }\n  }\n}\n\nexport namespace jsx {\n  export import JSX = JSXInternal; // eslint-disable-line @typescript-eslint/no-unused-vars\n}\n","// core\nexport { DOMAPI, htmlDomApi } from \"./htmldomapi\";\nexport { init } from \"./init\";\nexport { ThunkData, Thunk, ThunkFn, thunk } from \"./thunk\";\nexport { Key, VNode, VNodeData, vnode } from \"./vnode\";\n\n// helpers\nexport { AttachData, attachTo } from \"./helpers/attachto\";\nexport { array, primitive } from \"./is\";\nexport { toVNode } from \"./tovnode\";\nexport {\n  VNodes,\n  VNodeChildElement,\n  ArrayOrElement,\n  VNodeChildren,\n  h,\n} from \"./h\";\n\n// types\nexport * from \"./hooks\";\nexport { Module } from \"./modules/module\";\n\n// modules\nexport { Attrs, attributesModule } from \"./modules/attributes\";\nexport { Classes, classModule } from \"./modules/class\";\nexport { Dataset, datasetModule } from \"./modules/dataset\";\nexport { On, eventListenersModule } from \"./modules/eventlisteners\";\nexport { Props, propsModule } from \"./modules/props\";\nexport { VNodeStyle, styleModule } from \"./modules/style\";\n\n// JSX\nexport { JsxVNodeChild, JsxVNodeChildren, FunctionComponent, jsx } from \"./jsx\";\n","\nimport {\n  init,\n  classModule,\n  propsModule,\n  styleModule,\n  eventListenersModule,\n  h as html,\n} from \"snabbdom\";\n\nexport const patch = init([\n  // Init patch function with chosen modules\n  classModule, // makes it easy to toggle classes\n  propsModule, // for setting properties on DOM elements\n  styleModule, // handles styling on elements with support for animations\n  eventListenersModule, // attaches event listeners\n]);\n\nexport const h = (tagName: string, classList: string, children: Array<any>, options: any= null) => {\n  const normalizedClassList = classList.split(' ').map(c => c).join('.');\n  let text;\n  if (typeof options === 'string') {\n    text = options\n    options = null\n  }\n  const el = html(\n    `${tagName}${normalizedClassList ? `.${normalizedClassList}` : ''}`,\n    {props: {...(options || {})}},\n    text || children\n  );\n\n  el.data = el.data || {};\n  el.data.on = el.data.on || {};\n\n  return el;\n}\n","\nconst isTouchDevice = () => (('ontouchstart' in window) ||\n                            (navigator.maxTouchPoints > 0) ||\n                            (navigator.msMaxTouchPoints > 0));\n\nexport default isTouchDevice;\n","import { ACTION_KB_TYPED, ACTION_MODE_TOGGLE, ACTION_VARIATION_TOGGLE } from '../actions'\nimport KeyboardConfig from '../types/kb-config'\nimport KeyboardKey from '../types/kb-key'\nimport KeyboardState from '../types/kb-state'\nimport { h } from '../utils/create-element'\nimport isTouchDevice from '../utils/is-touch'\n\n\nlet preventFocusOut = false\nlet cancelPullout = false\nlet variationsTimeout: any\nexport const getPreventFocusOut = () => preventFocusOut;\n\n\nfunction addKeyboardKeyListener(\n  buttonEl: any,\n  config: KeyboardConfig,\n  action: Function,\n  key: KeyboardKey,\n  state: KeyboardState\n) {\n  let cancelTouchEnd = false\n\n  const isTouch = isTouchDevice()\n  const eventTrigger = isTouch ? 'touchstart' : 'mousedown'\n  const eventPullout = isTouch ? 'touchend' : 'mouseup'\n\n  buttonEl.data = buttonEl.data || {};\n  buttonEl.data.on = buttonEl.data.on || {};\n\n  buttonEl.data.on[eventTrigger] = (event: any) => {\n    cancelTouchEnd = false\n    if (!state.input) {\n      return\n    }\n\n    variationsTimeout && clearTimeout(variationsTimeout)\n    variationsTimeout = setTimeout(() => {\n      cancelTouchEnd = true\n      if (key.variations && key.variations.length) {\n        action(ACTION_VARIATION_TOGGLE, { key })\n        cancelPullout = true\n        setTimeout(() => cancelPullout = false, 400)\n      }\n    }, 1e3)\n  };\n\n  buttonEl.data.on[eventPullout] = (event: any) => {\n    if (cancelPullout) {\n      return\n    }\n\n    variationsTimeout && clearTimeout(variationsTimeout)\n\n    setTimeout(() => {\n\n      if (cancelTouchEnd) {\n        return\n      }\n\n      if (!state.input) {\n        return\n      }\n\n      state.input = state.input || {}\n\n      // Keyup optional listener\n      if (config.onKeyUp) {\n        const newVal = config.onKeyUp(state.input?.value, key)\n        state.input.value = newVal || ''\n      }\n\n      // Keydown optional listener\n      if (config.onKeyDown) {\n        const newVal = config.onKeyDown(state.input?.value, key)\n        state.input.value = newVal || ''\n      }\n\n      // OnChange optional listener\n      if (config.onChange) {\n        const newVal = config.onChange(state.input?.value, key)\n        state.input.value = newVal || ''\n      }\n\n      // Key custom action\n      if (key.action) {\n        const newVal = key.action(state.input?.value)\n        state.input.value = newVal || ''\n        return\n      } else if (key.layoutShift) {\n        // Layout shift key\n        action(ACTION_MODE_TOGGLE, { layoutName: key.layoutShift })\n        return\n      } else {\n        state.input.value = state.input.value + '' + key.symbol\n      }\n\n      action(ACTION_KB_TYPED, {})\n    }, 200)\n  };\n}\n\n\nexport default (state: KeyboardState, config: KeyboardConfig, action: Function) => {\n\n  // Gets the default layout for first\n  if (!state.layout) {\n    const layouts: any = config.layouts || {}\n    const layout = layouts.layouts.find((l: any) => l.name === config.layouts?.defaultLayout)\n    action(ACTION_MODE_TOGGLE, {\n      layout: layout.rows,\n      layoutName: config.layouts?.defaultLayout\n    })\n    return h('div', 'vs-virtual-kb', [])\n  }\n\n  // Kb rows format\n  const rows = state.layout.map(l => {\n\n    // Row buttons format\n    const buttons = l.map(kButton => {\n\n      let createButton: Function\n      let subButtonsEl: Array<{ key: KeyboardKey; button: any }> = []\n\n      // Button render function\n      const buttonEl: any = (createButton = (kButton: KeyboardKey) => {\n\n        // Button with icon\n        if (kButton.base64Icon) {\n          return h('button', 'vs-virtual-kb-row-button-with-icon', [\n            h('img', 'vs-virtual-kb-row-button-with-icon-icon', [], {\n              src: kButton.base64Icon,\n              alt: kButton.symbol\n            })\n          ])\n        }\n\n        // Button variations popover\n        if (state.variationShow === kButton) {\n          return h('button', 'vs-virtual-kb-row-button', [\n            (() => {\n\n              // Creates the variation popover element\n              const variationsRow = h('div', 'vs-virtual-kb-row-button-variations', [\n                ...(kButton.variations || []).map(variation => {\n                  const button = createButton(variation)\n                  subButtonsEl.push({ key: variation, button })\n                  return button\n                })\n              ]);\n\n              // Stop event propagation to the parent button\n              (variationsRow as any).data.on.touchstart = (e: any) => e.stopImmediatePropagation()\n              (variationsRow as any).data.on.touchend = (e: any) => e.stopImmediatePropagation()\n\n              // Popover extreme position adjust\n              setTimeout(() => {\n                // const width = window.innerWidth\n                // const coords = variationsRow.getBoundingClientRect()\n                // if (coords.x < 300) {\n                //   variationsRow.style.marginLeft = '200px'\n                //   return\n                // }\n                // if (width - coords.x < 300) {\n                //   variationsRow.style.marginLeft = '-200px'\n                //   return\n                // }\n              }, 200)\n\n              // Returns el\n              return variationsRow\n            })(),\n            h('span', '', [], kButton.symbol)\n          ])\n        }\n\n        return h('button', 'vs-virtual-kb-row-button', [], kButton.symbol)\n      })(kButton)\n\n      // Applies key specific class\n      let hash\n      try {\n        hash = btoa(kButton.symbol)\n      } catch (err) {\n        hash = encodeURIComponent(kButton.symbol)\n      }\n      buttonEl.sel += ` vs-virtual-kb-key-${hash.split('=').join('')}`;\n\n      // Adding click listeners\n      addKeyboardKeyListener(buttonEl, config, action, kButton, state)\n      subButtonsEl.forEach(b => addKeyboardKeyListener(b.button, config, action, b.key, state))\n\n      return buttonEl\n    })\n\n    // Row buttons div\n    return h('div', 'vs-virtual-kb-row', buttons)\n  })\n\n  // App main div\n  const appDiv = h(\n    'div',\n    `vs-virtual-kb ${config.wrpClass || ''} vs-virtual-kb-closed${\n      state.input ? 'vs-virtual-kb-opened' : ''\n    }`,\n    rows\n  );\n\n  // No context menu\n  (appDiv as any).data.on.contextmenu = (e: any) => {\n    e.preventDefault()\n    state.input.focus()\n  }\n\n  // Variation close\n  (appDiv as any).data.on.click = (e: any) => {\n    if (state.variationShow) {\n      action(ACTION_VARIATION_TOGGLE, {})\n    }\n  }\n\n  // Prevent focus out notification\n  let preventFocusOutTimeout: any;\n  (appDiv as any).data.on.mousedown = () => {\n    preventFocusOut = true;\n    if (preventFocusOutTimeout) {\n      clearTimeout(preventFocusOutTimeout);\n    }\n    preventFocusOutTimeout = setTimeout(() => preventFocusOut = false, 50);\n  };\n\n  return appDiv\n}\n","import actions from './actions'\nimport { ACTION_KB_TOGGLE, ACTION_MODE_TOGGLE } from './actions'\nimport keyboard, { getPreventFocusOut } from './components/keyboard'\nimport KeyboardConfig from './types/kb-config'\nimport KeyboardState from './types/kb-state'\nimport { patch } from './utils/create-element'\n\nconst VsVirtualKeyboard = (options: KeyboardConfig) => {\n  let keyboardEl: any\n  const config: KeyboardConfig = { ...options }\n  const wrp = document.createElement('div')\n  document.body.appendChild(wrp)\n\n  // Initial state\n  let currentState: KeyboardState = { config }\n\n  /**\n   * Application renderer\n   */\n  const render = (state: KeyboardState) => {\n    currentState = state\n\n    /**\n     * Keyboard lifecycle\n     */\n    const newEl: any = keyboard(state, config, (actionId: number, params: any) => {\n      const action = actions.get(actionId)\n      if (!action) {\n        console.warn(`${actionId} NOT EXISTS`)\n        return\n      }\n      let newState: KeyboardState = action(state, params)\n      if (config.interceptor) {\n        let stateChanged = config.interceptor({ ...newState })\n        if (stateChanged.layoutName !== newState.layoutName) {\n          const action = actions.get(ACTION_MODE_TOGGLE)\n          if (action) {\n            stateChanged = action(newState, { layoutName: stateChanged.layoutName })\n          }\n        }\n        newState = stateChanged || newState\n      }\n      render(newState)\n    })\n\n    /**\n     * Updates view with vdom\n     */\n    patch(keyboardEl || wrp, newEl);\n    keyboardEl = newEl;\n\n    /**\n     * Adds default click handler to the new element\n     */\n    ;(newEl as any).data.on.click = (event: any) => {\n      event.preventDefault()\n      if (state.input) {\n        state.input.focus()\n      }\n    }\n  }\n\n  /**\n   * Focus-in and toggle keyboard\n   */\n  let focusOutTimeout: any\n  window.addEventListener('focusin', (event: any) => {\n    focusOutTimeout && clearTimeout(focusOutTimeout)\n    const action = actions.get(ACTION_KB_TOGGLE)\n    if (action) {\n      setTimeout(() => {\n        const state: KeyboardState = action(currentState, { input: event.target })\n        render(state)\n      }, 10)\n    }\n  })\n\n  /**\n   * Focus-out interceptor and hide keyboard\n   */\n  window.addEventListener('focusout', e => {\n\n    // Clicking on kb button, input focus out, returns it\n    if (getPreventFocusOut()) {\n      currentState.input && currentState.input.focus();\n      e.preventDefault();\n      return;\n    }\n\n    // // Focus out, hide keyboard\n    focusOutTimeout = setTimeout(() => {\n      const action = actions.get(ACTION_KB_TOGGLE)\n      if (action) {\n        const state: KeyboardState = action(currentState, { input: null })\n        render(state)\n      }\n    }, 600)\n  })\n\n  // First render\n  render(currentState)\n}\n\n;(window as any).VsVirtualKeyboard = VsVirtualKeyboard\nexport default VsVirtualKeyboard\n"],"names":["vnode","is.array","is.primitive","raf","nextFrame","setNextFrame","h","html"],"mappings":"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"}